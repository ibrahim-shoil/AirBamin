<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.image.ImageView?>

<?import java.net.URL?>
<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:id="rootPane"
            fx:controller="com.airbamin.desktop.ui.HomeController"
            prefWidth="900" prefHeight="650">



    <top>
        <fx:include source="components/AppHeader.fxml"/>
    </top>

    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="page-scroll">
            <content>
                <VBox alignment="TOP_CENTER" spacing="32" styleClass="page">

                    <!-- Hero Section -->
                    <VBox alignment="CENTER" spacing="8" styleClass="hero-block">
                        <Label text="%home.welcome" styleClass="section-title"/>
                        <Label text="%home.subtitle"
                               wrapText="true"
                               styleClass="body-text"/>
                    </VBox>

                    <!-- Connection Status Card (QR Code) -->
                    <VBox styleClass="card" maxWidth="600" spacing="16" alignment="CENTER">
                        <Label text="%transfer.qr.title" styleClass="card-title"/>
                        <ImageView fx:id="qrImage" fitHeight="200" fitWidth="200" preserveRatio="true"/>
                        
                        <VBox spacing="4" alignment="CENTER">
                            <Label text="%transfer.share.title" styleClass="subtext"/>
                            <Label fx:id="ipLabel" styleClass="highlight-label" style="-fx-font-size: 18px;"/>
                        </VBox>
                        
                        <Label text="%transfer.steps.2" styleClass="subtext" textAlignment="CENTER" wrapText="true"/>
                    </VBox>

                    <!-- Main Actions -->
                    <FlowPane hgap="24" vgap="24" alignment="CENTER" prefWrapLength="900">
                        
                        <!-- Receive from Phone -->
                        <VBox styleClass="card" prefWidth="280" spacing="16" alignment="CENTER">
                            <SVGPath content="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z" styleClass="icon-large"/>
                            <Label text="%home.receive_btn" styleClass="card-title"/>
                            <Label wrapText="true"
                                   text="%home.receive_desc"
                                   styleClass="card-body" textAlignment="CENTER"/>
                            <Button text="%transfer.btn.openfolder" onAction="#openTransferCenter" styleClass="primary-button" maxWidth="Infinity"/>
                        </VBox>

                        <!-- Send to Phone -->
                        <VBox styleClass="card" prefWidth="280" spacing="16" alignment="CENTER">
                            <SVGPath content="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" styleClass="icon-large"/>
                            <Label text="%home.send_btn" styleClass="card-title"/>
                            <Label wrapText="true"
                                   text="%home.send_desc"
                                   styleClass="card-body" textAlignment="CENTER"/>
                            <Button text="%home.select_files" onAction="#onSelectFiles" styleClass="primary-button" maxWidth="Infinity"/>
                        </VBox>

                    </FlowPane>
                </VBox>
            </content>
        </ScrollPane>
    </center>

    <bottom>
        <HBox spacing="10" alignment="CENTER" styleClass="footer">
            <Label fx:id="messageLabel" styleClass="subtext" opacity="0.5"/>
        </HBox>
    </bottom>

</BorderPane>
